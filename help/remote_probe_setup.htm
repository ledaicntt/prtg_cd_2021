<!--Remote Probe Setup Using Installer-->


<div id="main">
  <div id="head">
     <div class="buttonbox">
       <a href="/help/index.htm" class="manual-content-icon">Content</a>
       <span class="spacer"></span><a href="remote_probe_quick_install.htm" class="manual-previous-icon">Previous</a>
       <span class="spacer"></span><a href="failover_cluster_configuration.htm" class="manual-next-icon">Next</a>
     </div>
     PRTG Manual: <b>Remote Probe Setup Using Installer</b>
  </div> 


  <div id="content">
    <div class="tabs-container help"> 
      <h1><%NUMBERING1%>.<%NUMBERING2%>.<%NUMBERING3%> PRTG Manual: Remote Probe Setup Using Installer</h1> 
      <p>In section <span class="f_BoldCustom"><a href="install_a_prtg_remote_probe.htm" class="topiclink">Install a PRTG Remote Probe</a>,</span> we accompany your remote probe installation using the <span class="f_ItalicCustom">Remote Probe Installer</span>. Here you find further information about necessary settings for a successful core probe connection and debugging tips. </p>
<ul style="text-indent:0px; margin-left: 13px;list-style-position:outside;">
<li><span class="f_ListBulleted"><a href="remote_probe_setup.htm#1" class="topiclink">Step 1: Prepare the Core Server</a></span></li>
<li><span class="f_ListBulleted"><a href="remote_probe_setup.htm#2" class="topiclink">Step 2: Download and Install Remote Probe</a></span></li>
<li><span class="f_ListBulleted"><a href="remote_probe_setup.htm#3" class="topiclink">Step 3: Approve New Probe and Start Monitoring</a></span></li>
<li><span class="f_ListBulleted"><a href="remote_probe_setup.htm#debugging" class="topiclink">Debugging Probe Connection Problems</a></span></li>
</ul>
<p><img src="icon-book-arrows.png" width="17" height="17" alt="icon-book-arrows" style="float:left;margin:0px 10px 10px 0px; border:none" />For a semi-automatic installation of a Remote Probe directly from the device tree in the PRTG web interface, see section <span class="f_BoldCustom"><a href="remote_probe_quick_install.htm" class="topiclink">Remote Probe Quick Setup</a></span>.</p>
<p><img src="icon-i-round-red.png" width="17" height="17" alt="icon-i-round-red" style="float:left;margin:0px 10px 10px 0px; border:none" />Do you run PRTG in a cluster? Then mind this <a href="remote_probe_setup.htm#remote_cluster" class="topiclink">important note</a>.</p>
<p class="p_InTopicHeading"><a id="1"></a><span class="f_InTopicHeading">Step 1: Prepare the Core Server</span></p>
<p>Because your remote probe needs to connect to your PRTG core server, your PRTG core server needs to accept incoming remote probe connections. So, please prepare your PRTG core server first. </p>
<p>Edit the relevant settings in<span class="f_BoldCustom"> <a href="probes_settings.htm" class="topiclink">System Administration—Core &amp; Probes</a></span>. From the main menu in the <a href="login.htm" class="topiclink">PRTG web interface</a>, select <span class="f_BoldCustom">Setup | System Administration | Core &amp; Probes</span> to access the probes settings and go to the <span class="f_BoldCustom">Probe Connection Settings</span>.</p>
<div class="p_ImageCaption"><div style="width:493px;padding:0px"><img src="probe_connection2_zoom62.png" width="493" height="414" style="border:none" alt="Probe Connection Settings in System Administration" title="Probe Connection Settings in System Administration" /><p style="text-align:center"><span class="f_ImageCaption">Probe Connection Settings in System Administration</span></p></div></div>
<p>By default, a core server accepts connections from the <span class="f_BoldCustom">Local Probe only</span> (IP address <span class="f_ItalicCustom">127.0.0.1</span>). This setting is the most secure setting, but it does not allow any remote probe to connect to your PRTG core server.</p>
<p>To accept remote probes, choose one of the following settings: </p>
<ul style="text-indent:0px; margin-left: 13px;list-style-position:outside;">
<li><span class="f_BoldCustom">All IPs available on this computer</span><span class="f_ListBulleted">: Any IP on your core server system accepts incoming probe connections.</span></li>
<li><span class="f_BoldCustom">Specify IPs</span><span class="f_ListBulleted">: Specify selected IP addresses that accept incoming connections.</span></li>
</ul>
<p>Other settings are:</p>
<ul style="text-indent:0px; margin-left: 13px;list-style-position:outside;">
<li><span class="f_ListBulleted">In the </span><span class="f_BoldCustom">Access Keys</span><span class="f_ListBulleted"> field, you can enter a new access key that can be used for a core probe connection. The access key can include arbitrary signs and have arbitrary length. During the remote probe install process PRTG will add an access key automatically, so usually you will not have to define a key here.</span></li>
<li><span class="f_ListBulleted">In the </span><span class="f_BoldCustom">Allow IPs</span><span class="f_ListBulleted"> field, you can enter the IP address of the computer you want to install a remote probe on. To make things easier, you can also enter the word </span><span class="f_BoldCustom">any:</span><span class="f_ListBulleted"> this will set the core server to accept remote probes connecting from any IP address.</span><br />
<img src="icon-i-round-red.png" width="17" height="17" alt="icon-i-round-red" style="float:left;margin:0px 10px 10px 0px; border:none" /><span class="f_ListBulleted">If you use </span><span class="f_BoldCustom">any</span><span class="f_ListBulleted">, make sure you write the word in lower case only! Any other variations will not be valid!</span><br />
<span class="f_ListBulleted">&nbsp;</span></li>
<li><span class="f_ListBulleted">In the </span><span class="f_BoldCustom">Deny IPs</span><span class="f_ListBulleted"> field, you can enter the IP address of the computers that you do not want to connect to the PRTG core server.</span></li>
<li><span class="f_ListBulleted">In the </span><span class="f_BoldCustom">Deny GIDs</span><span class="f_ListBulleted"> field, you can enter the global ID (GID) of a device in your network that you do not want to connect to the PRTG core server. </span>Future probe connections from this device will be denied automatically. <br />
<img src="icon-i-round.png" width="17" height="17" alt="icon-i-round" style="float:left;margin:0px 10px 10px 0px; border:none" />What is a global ID (GID)? It is the ID that PRTG Network Monitor attributes to every device that you include in your monitoring.</li>
</ul>
<p>When you are done, click <span class="f_BoldCustom">Save</span> to save your settings. If you click <span class="f_BoldCustom">Cancel</span>, all changes to the core and probe settings will be discarded.</p>
<p><img src="icon-i-round-red.png" width="17" height="17" alt="icon-i-round-red" style="float:left;margin:0px 10px 10px 0px; border:none" />If you change this setting, PRTG needs to restart the core server to apply your changes. After clicking the <span class="f_BoldCustom">Save</span> button, a dialog box appears which asks you to confirm the required core server restart. Click <span class="f_BoldCustom">OK</span> to trigger the restart and follow the instructions on the screen. During the restart all the users of the PRTG web interface, of the <span class="f_BoldCustom"><a href="enterprise_console.htm" class="topiclink">Enterprise Console</a></span>, or of <span class="f_BoldCustom"><a href="smartphone_apps.htm" class="topiclink">PRTG Apps for Mobile Network Monitoring</a></span> will be disconnected and reconnected.</p>
<p><img src="icon-book-arrows.png" width="17" height="17" alt="icon-book-arrows" style="float:left;margin:0px 10px 10px 0px; border:none" />For further information about the core probe connection settings, see also the <span class="f_BoldCustom"><a href="probes_settings.htm" class="topiclink">System Administration—Core &amp; Probes</a></span> section.</p>
<p><img src="icon-i-round.png" width="17" height="17" alt="icon-i-round" style="float:left;margin:0px 10px 10px 0px; border:none" />To edit the core probe connection settings you can also use the <span class="f_BoldCustom"><a href="prtg_server_administrator.htm" class="topiclink">PRTG Administration Tool</a></span> on your core server.</p>
<p class="p_BoldCustom"><a id="remote_cluster"></a><span class="f_BoldCustom">PRTG Cluster and Remote Probes Outside the LAN</span></p>
<p><img src="icon-i-red.png" width="17" height="17" alt="icon-i-red" style="float:left;margin:0px 10px 10px 0px; border:none" />If you use the <span class="f_BoldCustom"><a href="clustering.htm" class="topiclink">Clustering</a></span> feature of PRTG and you want to run remote probes outside your local network, you have to make sure your cluster nodes and the addresses they use are reachable from the outside! Check your cluster node settings under <span class="f_BoldCustom"><a href="cluster_settings.htm" class="topiclink">System Administration—Cluster</a></span> before installing a remote probe outside your local network. Enter addresses (DNS names or IPs) which are valid for both cluster nodes to reach each other and for remote probes to reach all cluster nodes individually. Remote probes outside your LAN cannot connect to your cluster nodes if they use local addresses.</p>
<p><img src="icon-sheet-ok-blue.png" width="17" height="17" alt="icon-sheet-ok-blue" style="float:left;margin:0px 10px 10px 0px; border:none" />If you already have a remote probe installed outside your LAN and the probe is disconnected because of this, please follow these steps:</p>
<ol style="text-indent:0px; margin-left: 15px;list-style-position:outside;">
<li value=""1""><span class="f_ListNumbered"> Uninstall the current remote probe.</span></li>
<li value=""2""><span class="f_ListNumbered"> Update the <a href="cluster_settings.htm#settings" class="topiclink">cluster node settings</a> with addresses that are reachable from outside your LAN.</span></li>
<li value=""3""><span class="f_ListNumbered"> Restart your PRTG core servers.</span></li>
<li value=""4""><span class="f_ListNumbered"> Install the remote probe again. It will then obtain the IP address or DNS name entries that it can reach.</span>  </li>
</ol>
<p><img src="icon-book-arrows.png" width="17" height="17" alt="icon-book-arrows" style="float:left;margin:0px 10px 10px 0px; border:none" />See also section <span class="f_BoldCustom"><a href="failover_cluster_configuration.htm#remote_probes_cluster" class="topiclink">Failover Cluster Configuration—Remote Probes in Cluster</a></span>.</p>
<p class="p_InTopicHeading"><a id="2"></a><span class="f_InTopicHeading">Step 2: Download and Install the Remote Probe</span></p>
<p>On the computer on which you want to install your remote probe, log in to the <a href="login.htm#login" class="topiclink">PRTG web interface</a>, download the setup file, and install it. For more detailed instructions, please follow the steps described in <span class="f_BoldCustom"><a href="install_a_prtg_remote_probe.htm" class="topiclink">Install a PRTG Remote Probe</a></span>.</p>
<p><img src="icon-i-round.png" width="17" height="17" alt="icon-i-round" style="float:left;margin:0px 10px 10px 0px; border:none" />The PRTG core system already includes a local probe or cloud probe service. This is why you cannot additionally install a remote probe on that system.</p>
<p><img src="icon-i-round.png" width="17" height="17" alt="icon-i-round" style="float:left;margin:0px 10px 10px 0px; border:none" />The version numbers of core and probe services must match. By default, PRTG updates probes automatically when a new version is installed on the PRTG core server. To update your remote probe manually, open a web browser on your remote computer and download the remote probe installer as described in this manual section.</p>
<p class="p_InTopicHeading"><a id="3"></a><a id="4"></a><span class="f_InTopicHeading">Step 3: Approve the New Probe and Start Monitoring</span></p>
<p><img src="icon-prtg-on-premises.png" width="17" height="17" alt="icon-prtg-on-premises" style="float:left;margin:0px 10px 10px 0px; border:none" />Remember to log in to the PRTG web interface to acknowledge your new remote probe!</p>
<div class="p_ImageCaption"><div style="width:412px;padding:0px"><img src="remoteprobe_approve_1.png" width="412" height="141" style="border:none" alt="Remote Probe Approval" title="Remote Probe Approval" /><p style="text-align:center"><span class="f_ImageCaption">Remote Probe Approval</span></p></div></div>
<p><img src="icon-prtg-on-demand.png" width="17" height="17" alt="icon-prtg-on-demand" style="float:left;margin:0px 10px 10px 0px; border:none" />If you successfully installed the remote probe from a PRTG in the cloud installation, you will see the following dialog box.</p>
<p><img src="icon-i-round-red.png" width="17" height="17" alt="icon-i-round-red" style="float:left;margin:0px 10px 10px 0px; border:none" />When you deny or remove a remote probe, PRTG will automatically add this device's global ID (GID) to the <span class="f_BoldCustom">Deny GIDs </span>list in <span class="f_BoldCustom"><a href="probes_settings.htm" class="topiclink">System Administration—Core &amp; Probes</a></span>. Future probe connections from this device will be denied automatically.</p>
<p><img src="icon-i-round.png" width="17" height="17" alt="icon-i-round" style="float:left;margin:0px 10px 10px 0px; border:none" />Denying the remote probe in the PRTG device tree does <span class="f_ItalicCustom">not</span> uninstall the probe, but only denies access to the core server. The probe will continue to run on the target system until you uninstall it manually.</p>
<p>For unwanted probe connections, you can click <span class="f_BoldCustom">Deny new probe</span>.</p>
<p><img src="icon-i-round-red.png" width="17" height="17" alt="icon-i-round-red" style="float:left;margin:0px 10px 10px 0px; border:none" />When you deny or remove a remote probe, PRTG will automatically add this device's global ID (GID) to the <span class="f_BoldCustom">Deny GIDs </span>list in <span class="f_BoldCustom"><a href="probes_settings.htm" class="topiclink">System Administration—Core &amp; Probes</a></span>. Future probe connections from this device will be denied automatically.</p>
<p>Once approved, PRTG automatically creates a set of sensors for the probe to ensure you can detect bottle-necks on the probe system immediately. We recommend that you keep these sensors. You can now create groups, devices, and sensors for monitoring via the new probe. </p>
<p>Furthermore, when a new probe connects to the core server for the first time, PRTG creates a new <a href="tickets.htm#types" class="topiclink">ToDo ticket</a>.</p>
<p class="p_InTopicHeading"><a id="debugging"></a><span class="f_InTopicHeading">Debugging Probe Connection Problems</span></p>
<p>If you have trouble with your core probe connection, make sure that you meet the following requirements: </p>
<ul style="text-indent:0px; margin-left: 13px;list-style-position:outside;">
<li><span class="f_ListBulleted">The IP address of the computer on which you want to install a remote probe is not listed in the </span><span class="f_BoldCustom">Deny IPs</span><span class="f_ListBulleted"> field.</span></li>
<li>The default port <span class="f_ItalicCustom">23560</span> for probe connections is not blocked by firewall rules on your core server's side. </li>
</ul>
<p><img src="icon-book-bulb.png" width="17" height="17" alt="icon-book-bulb" style="float:left;margin:0px 10px 10px 0px; border:none" />If you need to set a different port (not recommended), see this <span class="f_ListBulleted">Knowledge Base article: <a href="https://kb.paessler.com/en/topic/65084?utm_source=prtg&utm_medium=webgui&utm_campaign=kb" target="_blank" class="weblink">How can I customize PRTG's ports for core-probe-connections?</a></span></p>
<p>Furthermore, you can also take a look at the probe's log files. The probe process writes log files with a file name in the format <span class="f_BoldCustom">PRTG Probe Log (</span><span class="f_ItalicCustom">x</span><span class="f_BoldCustom">).log</span>. Open the one with the most recent date.</p>
<p>For a correct connection the probe log should look similar to this:</p>
<p class="p_CodeExample"><span class="f_CodeExample">11.08.2012&nbsp;16:15:15&nbsp;PRTG&nbsp;Probe&nbsp;Server&nbsp;V12.3.2.5101</span><br />
<span class="f_CodeExample">11.08.2012&nbsp;16:15:15&nbsp;Starting&nbsp;Probe&nbsp;on&nbsp;&quot;WINXPVMWARE&quot;</span><br />
<span class="f_CodeExample">11.08.2012&nbsp;16:15:15&nbsp;Data&nbsp;Path:&nbsp;C:\documents&nbsp;and&nbsp;settings\All&nbsp;Users\a[...]</span><br />
<span class="f_CodeExample">11.08.2012&nbsp;16:15:15&nbsp;Local&nbsp;IP:&nbsp;0.0.0.0</span><br />
<span class="f_CodeExample">11.08.2012&nbsp;16:15:15&nbsp;Core&nbsp;Server&nbsp;IP&nbsp;and&nbsp;Port:&nbsp;10.0.2.167:23560</span><br />
<span class="f_CodeExample">11.08.2012&nbsp;16:15:15&nbsp;Probe&nbsp;ID:&nbsp;-1</span><br />
<span class="f_CodeExample">11.08.2012&nbsp;16:17:01&nbsp;Connected&nbsp;to&nbsp;10.0.2.167:23560</span><br />
<span class="f_CodeExample">11.08.2012&nbsp;16:17:06&nbsp;Login&nbsp;OK:&nbsp;Welcome&nbsp;to&nbsp;PRTG</span></p>
<p class="p_ListBulleted"><span class="f_ListBulleted">&nbsp;</span></p>
<p>If the connection fails, for example due to an incorrect <span class="f_BoldCustom">Access Key</span>, or due to incorrect <span class="f_BoldCustom">IP</span> settings (see <span class="f_BoldCustom"><a href="remote_probe_setup.htm#2" class="topiclink">Step 2</a></span>), you will see:</p>
<p class="p_CodeExample"><span class="f_CodeExample">11.08.2012&nbsp;16:31:02&nbsp;Try&nbsp;to&nbsp;connect...</span><br />
<span class="f_CodeExample">11.08.2012&nbsp;16:31:02&nbsp;Connected&nbsp;to&nbsp;10.0.2.167:23560</span><br />
<span class="f_CodeExample">11.08.2012&nbsp;16:31:07&nbsp;Login&nbsp;NOT&nbsp;OK:&nbsp;Access&nbsp;key&nbsp;not&nbsp;correct!</span></p>
<p class="p_ListBulleted"><span class="f_ListBulleted">&nbsp;</span></p>
<p class="p_ListBulleted"><span class="f_ListBulleted">If you need to adjust any probe settings for the connection to the core server, use</span> the <span class="f_BoldCustom"><a href="prtg_probe_administrator.htm" class="topiclink">PRTG Administration Tool</a></span> on your probe system.</p>
<div class="p_ImageCaption"><div style="width:491px;padding:0px"><img src="admin_coreconnectprobe2_zoom79.png" width="491" height="443" style="border:none" alt="Remote Probe Settings in PRTG Administrator" title="Remote Probe Settings in PRTG Administrator" /><p style="text-align:center"><span class="f_ImageCaption">Remote Probe Settings in PRTG Administrator</span></p></div></div>
<p>In the <span class="f_BoldCustom">Connection to PRTG Core Server</span> tab, you can then edit the following settings:</p>
<ul style="text-indent:0px; margin-left: 13px;list-style-position:outside;">
<li><span class="f_BoldCustom">Server</span><span class="f_ListBulleted">: Enter the IP address or DNS name of the core server the remote probe will connect to. If Network Address Translation (NAT) is used, this has to be the IP address that is externally visible, because the remote probe will connect from outside your network.</span></li>
<li><span class="f_BoldCustom">Probe Access Key</span><span class="f_ListBulleted"> and </span><span class="f_BoldCustom">Confirm Access Key</span><span class="f_ListBulleted">: Enter the access key that the probe will send to the core server. This access key has to be defined on the PRTG core server. Make sure the key phrases match exactly.</span></li>
</ul>
<p>Remember to always click <span class="f_BoldCustom">Save &amp; Close</span> to confirm your settings and to (re)start the probe service.</p>
<p><img src="icon-book-arrows.png" width="17" height="17" alt="icon-book-arrows" style="float:left;margin:0px 10px 10px 0px; border:none" />For more detailed information about these settings, see section <span class="f_BoldCustom"><a href="prtg_probe_administrator.htm" class="topiclink">PRTG Administration Tool</a></span>. </p>
<p class="p_InTopicHeading"><a id="more"></a><span class="f_InTopicHeading">More</span></p>
<p class="p_ListBulleted"><span class="f_ListBulleted">Knowledge Base: How can I customize PRTG's ports for core-probe-connections?</span></p>
<ul style="text-indent:0px; margin-left: 13px;list-style-position:outside;">
<li><span class="f_ListBulleted"><a href="https://kb.paessler.com/en/topic/65084?utm_source=prtg&utm_medium=webgui&utm_campaign=kb" target="_blank" class="weblink">https://kb.paessler.com/en/topic/65084</a></span></li>
</ul>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 10px 0px 10px 0px;"><table style="width:100%; background-color:#f3f2f2; border:none; border-spacing:2px;">
<tr style="text-align:left;vertical-align:top;">
<th style="vertical-align:top; width:436px; padding:5px;"><p class="p_InTopicHeading"><a id="topics"></a><span class="f_InTopicHeading">Add Remote Probe—Topics</span></p>
<ul style="text-indent:0px; margin-left: 13px;list-style-position:outside;">
<li><span class="f_BoldCustom"><a href="remote_probes_and_multiple_probes.htm" class="topiclink">Remote Probes and Multiple Probes</a> </span></li>
<li><span class="f_BoldCustom"><a href="remote_probe_quick_install.htm" class="topiclink">Remote Probe Quick Setup</a></span></li>
<li><span class="f_BoldCustom"><a href="remote_probe_setup.htm" class="topiclink">Remote Probe Setup Using Installer</a>  </span><br />
<span class="f_BoldCustom">&nbsp;</span></li>
</ul>
</th>
</tr>
</table>
</div>
<p>&nbsp;</p>
<p class="p_InTopicHeading"><a id="topics"></a><span class="f_InTopicHeading">Advanced Topics</span></p>
<ul style="text-indent:0px; margin-left: 13px;list-style-position:outside;">
<li><span class="f_BoldCustom"><a href="active_directory_integration.htm" class="topiclink">Active Directory Integration</a></span></li>
<li><span class="f_BoldCustom"><a href="application_programming_interface_api_definition.htm" class="topiclink">Application Programming Interface (API) Definition</a></span></li>
<li><span class="f_BoldCustom"><a href="xflow_packet_sniffer_filter_rules.htm" class="topiclink">Filter Rules for xFlow, IPFIX, and Packet Sniffer Sensors</a></span></li>
<li><span class="f_BoldCustom"><a href="xflow_packet_sniffer_channel_definitions.htm" class="topiclink">Channel Definitions for xFlow, IPFIX, and Packet Sniffer Sensors</a></span></li>
<li><span class="f_BoldCustom"><a href="define_ip_ranges.htm" class="topiclink">Define IP Ranges</a></span></li>
<li><span class="f_BoldCustom"><a href="define_lookups.htm" class="topiclink">Define Lookups</a></span></li>
<li><span class="f_BoldCustom"><a href="regular_expressions.htm" class="topiclink">Regular Expressions</a></span></li>
<li><span class="f_BoldCustom"><a href="add_remote_probe.htm" class="topiclink">Add Remote Probe</a></span></li>
<li><span class="f_BoldCustom"><a href="failover_cluster_configuration.htm" class="topiclink">Failover Cluster Configuration</a></span></li>
<li><span class="f_BoldCustom"><a href="data_storage.htm" class="topiclink">Data Storage</a></span></li>
<li><span class="f_BoldCustom"><a href="using_your_own_ssl_certificate.htm" class="topiclink">Using Your Own SSL Certificate</a></span></li>
<li><span class="f_BoldCustom"><a href="calculating_percentiles.htm" class="topiclink">Calculating Percentiles</a> </span></li>
</ul>

    </div>
    <p><small>Keywords: </small></p>
  </div>
  <div class="buttonbox">
  <div id="manual-navigation">
       <a href="/help/index.htm" class="manual-content-icon">Content</a>
       <span class="spacer"></span><a href="remote_probe_quick_install.htm" class="manual-previous-icon">Previous</a>
       <span class="spacer"></span><a href="failover_cluster_configuration.htm" class="manual-next-icon">Next</a>
  </div>
  </div>
</div>




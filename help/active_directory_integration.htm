<!--Active Directory Integration-->


<div id="main">
  <div id="head">
     <div class="buttonbox">
       <a href="/help/index.htm" class="manual-content-icon">Content</a>
       <span class="spacer"></span><a href="advanced_topics.htm" class="manual-previous-icon">Previous</a>
       <span class="spacer"></span><a href="application_programming_interface_api_definition.htm" class="manual-next-icon">Next</a>
     </div>
     PRTG Manual: <b>Active Directory Integration</b>
  </div> 


  <div id="content">
    <div class="tabs-container help"> 
      <h1><%NUMBERING1%>.<%NUMBERING2%>.<%NUMBERING3%> PRTG Manual: Active Directory Integration</h1> 
      <p>PRTG offers a detailed rights management via different user groups. For detailed information please see <span class="f_BoldCustom"><a href="user_access_rights.htm" class="topiclink">User Access Rights</a></span>.</p>
<p>To make user management easier, you can integrate an existing Active Directory into PRTG in four steps. During this process, you connect an <span class="f_ItalicCustom">Active Directory (AD)</span> group with a user group in PRTG. All members of your AD group can then log in to PRTG using their AD domain credentials. </p>
<p><img src="icon-i-round.png" width="17" height="17" alt="icon-i-round" style="float:left;margin:0px 10px 10px 0px; border:none" />You cannot add single AD users to PRTG, but only allow access for entire groups. PRTG automatically creates a user account for each AD user who logs in to PRTG successfully.</p>
<p><img src="icon-prtg-on-demand.png" width="17" height="17" alt="icon-prtg-on-demand" style="float:left;margin:0px 10px 10px 0px; border:none" />This feature is not available in PRTG in the cloud.</p>
<p class="p_InTopicHeading"><a id="1"></a><span class="f_InTopicHeading">Step 1: Prepare Your Active Directory</span></p>
<ul style="text-indent:0px; margin-left: 13px;list-style-position:outside;">
<li><span class="f_ListBulleted">In your Active Directory, ensure users you want to give access to PRTG are member of the same AD group.</span></li>
<li><span class="f_ListBulleted">You can also organize users in different groups, for example, one group whose members will have administrator rights within PRTG, and another one whose members will have read-only rights within PRTG.</span></li>
</ul>
<p class="p_InTopicHeading"><a id="2"></a><span class="f_InTopicHeading">Step 2: Prepare Your PRTG Server</span></p>
<ul style="text-indent:0px; margin-left: 13px;list-style-position:outside;">
<li><span class="f_ListBulleted">Make sure the computer running PRTG is member of the domain you want to integrate it to. You can check this setting in your machine's </span><span class="f_BoldCustom">System Properties</span> (for example, <span class="f_BoldCustom">Control Panel | System and Security | System</span>, click <span class="f_BoldCustom">Change settings</span> link).</li>
</ul>
<p class="p_InTopicHeading"><a id="3"></a><span class="f_InTopicHeading">Step 3: Add Domain and Credentials (optional) to System Settings</span></p>
<ul style="text-indent:0px; margin-left: 13px;list-style-position:outside;">
<li><span class="f_ListBulleted">In the PRTG <a href="ajax_gui_basic.htm" class="topiclink">web interface</a>, open the </span><span class="f_BoldCustom"><a href="probes_settings.htm#active_directory" class="topiclink">System Administration—Core &amp; Probes</a></span><span class="f_ListBulleted"> settings.</span></li>
<li><span class="f_ListBulleted">In section </span><span class="f_BoldCustom">Active Directory Integration</span><span class="f_ListBulleted">, enter the name of your local domain into the </span><span class="f_BoldCustom">Domain Name</span><span class="f_ListBulleted"> field. </span><br />
<img src="icon-i-round.png" width="17" height="17" alt="icon-i-round" style="float:left;margin:0px 10px 10px 0px; border:none" />You can only integrate one AD domain into PRTG.<br />
&nbsp;</li>
<li><span class="f_ItalicCustom">Optional</span><span class="f_ListBulleted">: PRTG uses the same Windows user account that you use to run the </span><span class="f_ItalicCustom">PRTG Core Server Service</span><span class="f_ListBulleted">. By default, this is the </span><span class="f_ItalicCustom">local system</span><span class="f_ListBulleted"> Windows user account. If this user does not have sufficient rights to query a list of all existing groups from the Active Directory, provide credentials of a user account with full AD access by using the </span><span class="f_BoldCustom">Use explicit credentials</span><span class="f_ListBulleted"> option as </span><span class="f_BoldCustom">Access Type</span><span class="f_ListBulleted">. </span><br />
<img src="icon-i-round.png" width="17" height="17" alt="icon-i-round" style="float:left;margin:0px 10px 10px 0px; border:none" />If you cannot save changes to <span class="f_BoldCustom">Core &amp; Probes</span> settings because you get an <span class="f_BoldCustom">Error (Bad Request)</span> with the message <span class="f_BoldCustom">Active Directory Domain not accessible</span>, change from &quot;local user&quot; to <span class="f_BoldCustom">Use explicit credentials</span> for <span class="f_BoldCustom">Active Directory Integration</span> and provide the correct credentials for your domain.</li>
<li><span class="f_BoldCustom">Save</span><span class="f_ListBulleted"> your settings.</span></li>
</ul>
<p class="p_InTopicHeading"><a id="4"></a><span class="f_InTopicHeading">Step 4: Add a New User Group</span></p>
<ul style="text-indent:0px; margin-left: 13px;list-style-position:outside;">
<li><span class="f_ListBulleted">Switch to the </span><span class="f_BoldCustom">User Groups</span><span class="f_ListBulleted"> tab (see </span><span class="f_BoldCustom"><a href="user_groups_settings.htm" class="topiclink">System Administration—User Groups</a></span><span class="f_ListBulleted">).</span></li>
<li><span class="f_ListBulleted">Click on the </span><span class="f_BoldCustom">New User Group</span><span class="f_ListBulleted"> button to add a new PRTG user group. </span></li>
<li>In the dialog appearing, enter a meaningful name and set the <span class="f_ItalicCustom">Use Active Directory</span> setting to <span class="f_BoldCustom">Yes</span>.</li>
<li><span class="f_ListBulleted">From the </span><span class="f_ItalicCustom">Active Directory Group</span><span class="f_ListBulleted"> drop down menu, select the group of your Active Directory whose members will have access to PRTG. If you have a very large Active Directory, you will see an input field instead of a drop down. In this case, you can enter the group name only; PRTG will add the prefix automatically.</span></li>
<li><span class="f_ListBulleted">With the </span><span class="f_ItalicCustom">New User Type</span><span class="f_ListBulleted"> setting, define the <a href="user_access_rights.htm" class="topiclink">access rights</a> a user from the selected Active Directory group will have when logging in to PRTG for the first time. You can choose between </span><span class="f_BoldCustom">Read/Write User</span><span class="f_ListBulleted"> or </span><span class="f_BoldCustom">Read Only User</span><span class="f_ListBulleted"> (latter is useful to show data only to a large group of users).</span></li>
<li><span class="f_BoldCustom">Save </span><span class="f_ListBulleted">your settings.</span></li>
</ul>
<p class="p_InTopicHeading"><a id="done"></a><span class="f_InTopicHeading">Done</span></p>
<p>That's it. All users in this Active Directory group can now log in to PRTG using their AD domain credentials. Their user accounts will use the PRTG security context of the PRTG user group you just created.</p>
<p class="p_InTopicHeading"><a id="notes"></a><span class="f_InTopicHeading">Notes and Limitations</span></p>
<ul style="text-indent:0px; margin-left: 13px;list-style-position:outside;">
<li><span class="f_ListBulleted">Active Directory users can <a href="login.htm" class="topiclink">log on to the web interface</a> using their Windows username and password (please do not enter any domain information in PRTG's </span><span class="f_BoldCustom">Login Name</span><span class="f_ListBulleted"> field). When such a user logs in, PRTG will automatically create a corresponding local account on the PRTG core server. Credentials are synchronized every hour.</span></li>
<li><span class="f_ListBulleted">All requests to the Active Directory servers are cached for one hour, for performance reasons. If a password is changed in the Active Directory, you must either wait for 1 hour or clear the cache manually by clicking on the </span><span class="f_BoldCustom">Clear Caches</span><span class="f_ListBulleted"> button on the </span><span class="f_BoldCustom"><a href="administrative_tools_settings.htm#core" class="topiclink">System Administration—Administrative Tools</a></span><span class="f_ListBulleted"> page in the </span><span class="f_BoldCustom"><a href="setup.htm" class="topiclink">Setup</a></span><span class="f_ListBulleted"> menu).</span></li>
<li><span class="f_ListBulleted">By default, there are not set any rights for the new PRTG user group. Initially, users in this group will not see any objects in the PRTG device tree. Edit your device tree <a href="object_settings.htm" class="topiclink">object's settings</a> and set access rights for your newly created user group in the </span><span class="f_BoldCustom">Inherit Access Rights</span><span class="f_ListBulleted"> section. </span><br />
<img src="icon-i-round.png" width="17" height="17" alt="icon-i-round" style="float:left;margin:0px 10px 10px 0px; border:none" />The easiest way is to set access rights in the <span class="f_BoldCustom"><a href="root_group_settings.htm" class="topiclink">Root Group Settings</a></span>.<br />
&nbsp;</li>
<li><span class="f_ListBulleted">PRTG only supports explicit group rights. If your AD uses groups which are member of another group, PRTG will </span><span class="f_ItalicCustom">not</span><span class="f_ListBulleted"> regard inherited implicit rights of the parent group and therefore refuse login for members of those groups.</span></li>
<li><span class="f_ListBulleted">PRTG ignores AD information about </span><span class="f_ItalicCustom">Organizational Units (OUs)</span><span class="f_ListBulleted">. These values cannot be read by PRTG. However, if you use the AD in an <a href="auto_discovery.htm#settings" class="topiclink">auto-discovery group</a>, you can restrict the search to computers which are part of an OU.</span></li>
<li><span class="f_ListBulleted">PRTG does not support SSO (single sign-on).</span></li>
<li><span class="f_ListBulleted">You can integrate only one AD domain into PRTG.</span></li>
<li><span class="f_ListBulleted">PRTG does not support trusted domains or AD subdomains.</span></li>
<li><span class="f_ListBulleted">For very large Active Directories, you will see an input field instead of a drop down when you add or modify a user group. In this case, you can enter the group name only. PRTG will add the prefix automatically.</span></li>
<li><span class="f_ListBulleted">A PRTG user account for an AD user is only created if this AD user successfully logs in to PRTG! So if you want to send <a href="notifications_settings.htm#email" class="topiclink">email notifications</a> to an AD user group (using the option &quot;Send to User Group&quot; in the notification settings), for example, by choosing the default notification &quot;Email to all members of group </span><span class="f_ItalicCustom">[AD group name]</span><span class="f_ListBulleted">&quot;, a member of this AD group has to log in to PRTG at least once to be able to receive an email notification. If you want to avoid these single logons of your AD group members to create user accounts, enter the email address of the AD group into the &quot;Send to Email Address&quot; field in the notification settings and choose &quot;None&quot; for the &quot;Send to User Group&quot; option.  </span></li>
<li><span class="f_ListBulleted">If you want to delete an AD group from PRTG (due to some changes to the AD, for example), you have to delete all users which are in this PRTG user group first. This is because AD users always have this group as their primary group which cannot be changed.</span></li>
<li><span class="f_ListBulleted">If you want to reflect changes to your AD in PRTG, you have to delete the AD user group and all members first. Then add the AD group anew. This is because PRTG does not synchronize with your AD automatically.</span></li>
</ul>
<p>&nbsp;</p>
<p class="p_InTopicHeading"><a id="topics"></a><span class="f_InTopicHeading">Advanced Topics</span></p>
<ul style="text-indent:0px; margin-left: 13px;list-style-position:outside;">
<li><span class="f_BoldCustom"><a href="active_directory_integration.htm" class="topiclink">Active Directory Integration</a></span></li>
<li><span class="f_BoldCustom"><a href="application_programming_interface_api_definition.htm" class="topiclink">Application Programming Interface (API) Definition</a></span></li>
<li><span class="f_BoldCustom"><a href="xflow_packet_sniffer_filter_rules.htm" class="topiclink">Filter Rules for xFlow, IPFIX, and Packet Sniffer Sensors</a></span></li>
<li><span class="f_BoldCustom"><a href="xflow_packet_sniffer_channel_definitions.htm" class="topiclink">Channel Definitions for xFlow, IPFIX, and Packet Sniffer Sensors</a></span></li>
<li><span class="f_BoldCustom"><a href="define_ip_ranges.htm" class="topiclink">Define IP Ranges</a></span></li>
<li><span class="f_BoldCustom"><a href="define_lookups.htm" class="topiclink">Define Lookups</a></span></li>
<li><span class="f_BoldCustom"><a href="regular_expressions.htm" class="topiclink">Regular Expressions</a></span></li>
<li><span class="f_BoldCustom"><a href="add_remote_probe.htm" class="topiclink">Add Remote Probe</a></span></li>
<li><span class="f_BoldCustom"><a href="failover_cluster_configuration.htm" class="topiclink">Failover Cluster Configuration</a></span></li>
<li><span class="f_BoldCustom"><a href="data_storage.htm" class="topiclink">Data Storage</a></span></li>
<li><span class="f_BoldCustom"><a href="using_your_own_ssl_certificate.htm" class="topiclink">Using Your Own SSL Certificate</a></span></li>
<li><span class="f_BoldCustom"><a href="calculating_percentiles.htm" class="topiclink">Calculating Percentiles</a> </span></li>
</ul>

    </div>
    <p><small>Keywords: </small></p>
  </div>
  <div class="buttonbox">
  <div id="manual-navigation">
       <a href="/help/index.htm" class="manual-content-icon">Content</a>
       <span class="spacer"></span><a href="advanced_topics.htm" class="manual-previous-icon">Previous</a>
       <span class="spacer"></span><a href="application_programming_interface_api_definition.htm" class="manual-next-icon">Next</a>
  </div>
  </div>
</div>




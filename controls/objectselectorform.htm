<#inserturlparam parameter="rootid" var="rootid">
<#inserturlparam parameter="probes" var="probes">
<#inserturlparam parameter="groups" var="groups">
<#inserturlparam parameter="devices" var="devices">
<#inserturlparam parameter="allowone" var="allowone">
<#inserturlparam parameter="allowself" var="allowself">
<#inserturlparam parameter="onlysensors" var="onlysensors">
<#inserturlparam parameter="allowreadonly" var="allowreadonly">
<form id="objectselectorform" class="prtg-plugin" data-plugin="prtg-form" onsubmit="return false;" title='<#lang key="html.objectselector.title" default="Please select an object!">'>
	<div>
		<div style="float:left;width:330px;display:block;">
			<b style="margin-top:2px">1. <#lang key="html.objectselectorform.navigate" default="Navigate Device Tree"></b>
      <div class="searchbox">
        <i class="ui-icon ui-icon-search ui-icon-gray searchlogo"></i>
        <input id="objtreesearch" type="text" class="searchstring" title="<#langjs key="html.jstree.searchtree" default="Search Name in Device Tree">"  name="searchtext" placeholder="<#lang key="html.global.search2" default="Search...">">
      </div>
			<div class="prtg-plugin objectselector"
				style="height:400px"
				id="objectSelectorTree"
				data-onlysensors="<#inserturlparam parameter="onlysensors">"
				data-plugin="objectselector"
				data-sensorload="#objectSelectorSensors"
				data-branch="<#objectstatus name="parentid" show="text" asjson="true">"
				data-sensorid="<#objectstatus name="objid" show="text"  asjson="true">"
				data-selid="<#inserturlparam parameter="selid">"
				data-allowone="<#inserturlparam parameter="allowone">">
          <!--
          {  
					"tree": <#selectionlist
							content='groupsanddevices_as_json'
							varexpand='id,probes,groups,devices,allowone,allowself,allowreadonly,allowreadonly'
							id='@rootid'
							probes='@probes'
							groups='@groups'
							devices='@devices'
							allowone='@allowone'
							allowself='@allowself'
							allowreadonly='@allowreadonly'
							altformat='1'>
					}
					-->
			</div>
		</div>
		<div style="float:left;margin-top:4px;">
			<b style="margin-top:5px">2. <#lang key="html.objectselectorform.selectorfind" default="Select or Find an Object"></b>
		</div>
 		<div class="searchbox"><i class="ui-icon ui-icon-search ui-icon-gray searchlogo"></i>
			<input type="text" tabindex="2" id="objsearch" class="searchstring" title="<#langjs key="html.jstree.findobjects" default="Find Object by Name, Group, Device or Tag">"  name="searchtext" placeholder="<#lang key="html.global.find" default="Find...">">
		</div>
		<div id="objectSelectorSensors" style="width:auto;display:block;height:400px;border:1px solid <#colorcode color="midgray">;margin: 6px 11px 0 5px;"></div>

	</div>
	<wingui>
	  <div class="submitbuttonboxanchor">
	  <div class="submitbuttonbox">
		<input class="submit btngrey button" type="submit" value="<#lang key="html.global.save" default="Save">">
		<input onClick="history.back();return(false)" class="cancel btngrey button" type="reset" value="<#lang key="html.global.cancel" default="Cancel">"></div>
	  </div>
	</wingui>
</form>
